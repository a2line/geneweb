<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Notif (geneweb.Geneweb.Notif)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">geneweb</a> &#x00BB; <a href="../index.html">Geneweb</a> &#x00BB; Notif</nav><header class="odoc-preamble"><h1>Module <code><span>Geneweb.Notif</span></code></h1><p>Server-to-client notification system using Bootstrap toasts.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-level"><a href="#type-level" class="anchor"></a><code><span><span class="keyword">type</span> level</span><span> = </span></code><ol><li id="type-level.Info" class="def variant constructor anchored"><a href="#type-level.Info" class="anchor"></a><code><span>| </span><span><span class="constructor">Info</span></span></code></li><li id="type-level.Success" class="def variant constructor anchored"><a href="#type-level.Success" class="anchor"></a><code><span>| </span><span><span class="constructor">Success</span></span></code></li><li id="type-level.Warning" class="def variant constructor anchored"><a href="#type-level.Warning" class="anchor"></a><code><span>| </span><span><span class="constructor">Warning</span></span></code></li><li id="type-level.Err" class="def variant constructor anchored"><a href="#type-level.Err" class="anchor"></a><code><span>| </span><span><span class="constructor">Err</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Notification severity level. Affects toast styling.</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-mode"><a href="#type-mode" class="anchor"></a><code><span><span class="keyword">type</span> mode</span><span> = </span></code><ol><li id="type-mode.Auto" class="def variant constructor anchored"><a href="#type-mode.Auto" class="anchor"></a><code><span>| </span><span><span class="constructor">Auto</span></span></code></li><li id="type-mode.Dismissible" class="def variant constructor anchored"><a href="#type-mode.Dismissible" class="anchor"></a><code><span>| </span><span><span class="constructor">Dismissible</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Auto: toast disappears after 6s. Dismissible: requires user click.</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Clear all pending notifications.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-info"><a href="#val-info" class="anchor"></a><code><span><span class="keyword">val</span> info : <span><span class="optlabel">?mode</span>:<a href="#type-mode">mode</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="optlabel">?title</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Queue info notification (blue). Default mode: Auto.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-success"><a href="#val-success" class="anchor"></a><code><span><span class="keyword">val</span> success : <span><span class="optlabel">?mode</span>:<a href="#type-mode">mode</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="optlabel">?title</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Queue success notification (green). Default mode: Auto.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-warning"><a href="#val-warning" class="anchor"></a><code><span><span class="keyword">val</span> warning : <span><span class="optlabel">?mode</span>:<a href="#type-mode">mode</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="optlabel">?title</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Queue warning notification (yellow). Default mode: Auto.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error"><a href="#val-error" class="anchor"></a><code><span><span class="keyword">val</span> error : <span><span class="optlabel">?title</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Queue error notification (red). Always Dismissible. If title is empty, default label from lexicon is used.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-has_pending"><a href="#val-has_pending" class="anchor"></a><code><span><span class="keyword">val</span> has_pending : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check if notifications are pending.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-inject_pending"><a href="#val-inject_pending" class="anchor"></a><code><span><span class="keyword">val</span> inject_pending : <span><a href="../Config/index.html#type-config">Config.config</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Config/index.html#type-config">Config.config</a></span></code></div><div class="spec-doc"><p>Inject pending notifications into conf.env as notif. Merges with any existing notifications. Clears queue. Returns conf unchanged if empty.</p></div></div></div></body></html>
