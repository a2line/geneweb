<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Date (geneweb.Date)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Index</a> &#x00BB; <a href="../index.html">geneweb</a> &#x00BB; Date</nav><header class="odoc-preamble"><h1>Module <code><span>Date</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-leap_year"><a href="#val-leap_year" class="anchor"></a><code><span><span class="keyword">val</span> leap_year : <span>int <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Says if the given year is a leap year.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nb_days_in_month"><a href="#val-nb_days_in_month" class="anchor"></a><code><span><span class="keyword">val</span> nb_days_in_month : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns number of days for the given month and year in the Gregorian calendar. Takes leap years into account. Returns <code>0</code> for <code>month = 0</code> (partial dates) or invalid months (&gt; 12). Note: Calendars with 13 months (Hebrew embolismic, French complementary) are not supported by this function.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-time_elapsed"><a href="#val-time_elapsed" class="anchor"></a><code><span><span class="keyword">val</span> time_elapsed : <span><a href="../Def/index.html#type-dmy">Def.dmy</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Def/index.html#type-dmy">Def.dmy</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-dmy">Def.dmy</a></span></code></div><div class="spec-doc"><p><code>time_elapsed start stop</code> Compute the time elapsed between <code>start</code> and <code>stop</code>. If <code>stop</code> is prior to <code>start</code>, resulting <code>dmy</code>'s field are negative (but correct). Resulting <code>prec</code> can be:</p><ul><li><code>Sure</code> for exact duration</li><li><code>Before</code> for &quot;less than&quot; duration</li><li><code>After</code> for &quot;more than&quot; duration</li><li><code>Maybe</code> for other cases Used to compare only gregorian calendar's dates.</li></ul><p>Handles partial dates: <code>day=0</code> means unknown day, <code>month=0</code> means unknown month. Result precision degrades appropriately:</p><ul><li><code>/1850</code> to <code>12/07/1900</code> returns <code>0/7/50</code> (50 years, 7 months)</li><li><code>/1850</code> to <code>/1900</code> returns <code>0/0/50</code> (50 years)</li></ul><p>Note: The result is a <code>dmy</code> structure used to represent duration, not an actual date.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-time_elapsed_opt"><a href="#val-time_elapsed_opt" class="anchor"></a><code><span><span class="keyword">val</span> time_elapsed_opt : <span><a href="../Def/index.html#type-dmy">Def.dmy</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Def/index.html#type-dmy">Def.dmy</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Def/index.html#type-dmy">Def.dmy</a> option</span></span></code></div><div class="spec-doc"><p>Same as <code>time_elapsed</code>, but will return <code>None</code> if computation is not possible (e.g. time_elapsed_opt /1839 /1859).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dmy_of_death"><a href="#val-dmy_of_death" class="anchor"></a><code><span><span class="keyword">val</span> dmy_of_death : <span><a href="../Def/index.html#type-death">Def.death</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Adef/index.html#type-dmy">Adef.dmy</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_of_death"><a href="#val-date_of_death" class="anchor"></a><code><span><span class="keyword">val</span> date_of_death : <span><a href="../Def/index.html#type-death">Def.death</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Adef/index.html#type-date">Adef.date</a> option</span></span></code></div><div class="spec-doc"><p>Returns date of death if present.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dmy_of_dmy2"><a href="#val-dmy_of_dmy2" class="anchor"></a><code><span><span class="keyword">val</span> dmy_of_dmy2 : <span><a href="../Def/index.html#type-dmy2">Def.dmy2</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-dmy">Def.dmy</a></span></code></div><div class="spec-doc"><p><code>dmy_of_dmy2 dmy2</code> Convert a <code>dmy2</code> to <code>dmy</code> using <code>Sure</code> as precision.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare_dmy"><a href="#val-compare_dmy" class="anchor"></a><code><span><span class="keyword">val</span> compare_dmy : <span><a href="../Def/index.html#type-dmy">Def.dmy</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Def/index.html#type-dmy">Def.dmy</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>compare_dmy d1 d2</code> Compare two dates as points on a timeline. Return a negative integer if <code>d1</code> is prior to <code>d2</code>, <code>0</code> if <code>d1</code> is equal to <code>d2</code>, and a positive integer if <code>d2</code> is prior to <code>d1</code>. Date precision is handled permissively: dates with uncertain precision (<code>About</code>, <code>Maybe</code>) are comparable with precise dates. This function always returns a result and can be used for sorting.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare_dmy_strict"><a href="#val-compare_dmy_strict" class="anchor"></a><code><span><span class="keyword">val</span> compare_dmy_strict : <span><a href="../Def/index.html#type-dmy">Def.dmy</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Def/index.html#type-dmy">Def.dmy</a> <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p><code>compare_dmy_strict d1 d2</code> Compare two dates with strict precision handling. Return <code>None</code> if dates cannot be reliably compared due to incompatible precision (e.g. comparing <code>2019</code> with <code>07/2019</code>, or <code>Before 1850</code> with <code>After 1840</code>). Return <code>Some x</code> with the same semantics as <code>compare_dmy</code> when comparison is meaningful. Do not use for sorting lists as it may return <code>None</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare_date"><a href="#val-compare_date" class="anchor"></a><code><span><span class="keyword">val</span> compare_date : <span><a href="../Def/index.html#type-date">Def.date</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Def/index.html#type-date">Def.date</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>compare_date d1 d2</code> Compare two dates using <code>compare_dmy</code> if both are <code>Dgreg</code> dates. <code>Dtext</code> dates are always considered prior to any <code>Dgreg</code> date, and equal to any other <code>Dtext</code> date. Always returns a result and can be used for sorting.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare_date_strict"><a href="#val-compare_date_strict" class="anchor"></a><code><span><span class="keyword">val</span> compare_date_strict : <span><a href="../Def/index.html#type-date">Def.date</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Def/index.html#type-date">Def.date</a> <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p><code>compare_date_strict d1 d2</code> Strict comparison of dates. Return <code>None</code> if dates are not reliably comparable (different types, or incompatible precision for <code>Dgreg</code> dates). Return <code>Some x</code> with same semantics as <code>compare_date</code> otherwise. Do not use for sorting lists.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cdate_None"><a href="#val-cdate_None" class="anchor"></a><code><span><span class="keyword">val</span> cdate_None : <a href="../Def/index.html#type-cdate">Def.cdate</a></span></code></div><div class="spec-doc"><p>Absent compressed date</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-date_of_cdate"><a href="#val-date_of_cdate" class="anchor"></a><code><span><span class="keyword">val</span> date_of_cdate : <span><a href="../Def/index.html#type-cdate">Def.cdate</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-date">Def.date</a></span></code></div><div class="spec-doc"><p>Convert <code>cdate</code> to <code>date</code>; fail if <code>cdate</code> is <code>Cnone</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-od_of_cdate"><a href="#val-od_of_cdate" class="anchor"></a><code><span><span class="keyword">val</span> od_of_cdate : <span><a href="../Def/index.html#type-cdate">Def.cdate</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Def/index.html#type-date">Def.date</a> option</span></span></code></div><div class="spec-doc"><p>Optional date from <code>cdate</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cdate_to_dmy_opt"><a href="#val-cdate_to_dmy_opt" class="anchor"></a><code><span><span class="keyword">val</span> cdate_to_dmy_opt : <span><a href="../Def/index.html#type-cdate">Def.cdate</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Def/index.html#type-dmy">Def.dmy</a> option</span></span></code></div><div class="spec-doc"><p><code>cdate_to_dmy_opt d</code> is <code>Some dmy</code> iff <code>d</code> resolve to <code>Dgreg (dmy,_)</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cdate_of_date"><a href="#val-cdate_of_date" class="anchor"></a><code><span><span class="keyword">val</span> cdate_of_date : <span><a href="../Def/index.html#type-date">Def.date</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-cdate">Def.cdate</a></span></code></div><div class="spec-doc"><p>Convert <code>date</code> to <code>cdate</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cdate_of_od"><a href="#val-cdate_of_od" class="anchor"></a><code><span><span class="keyword">val</span> cdate_of_od : <span><span><a href="../Def/index.html#type-date">Def.date</a> option</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Def/index.html#type-cdate">Def.cdate</a></span></code></div><div class="spec-doc"><p>Optional date to <code>cdate</code></p></div></div></div></body></html>
